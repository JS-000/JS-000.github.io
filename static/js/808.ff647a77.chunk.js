"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[808],{995:function(n,t,e){var r=e(861),s=e(152),c=e(757),o=e.n(c),u=e(791);t.Z=function(n){var t=(0,u.useState)({sending:!1,error:!1,success:!1,data:null}),e=(0,s.Z)(t,2),c=e[0],a=e[1],i=(0,u.useCallback)(function(){var t=(0,r.Z)(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a((function(n){return{sending:!0,error:!1,success:!1,data:null}})),t.prev=1,t.next=4,n(e);case 4:r=t.sent,a((function(n){return{sending:!1,error:!1,success:!0,data:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a((function(n){return{sending:!1,error:!0,success:!1,data:null}}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(n){return t.apply(this,arguments)}}(),[n]);return[i,c.sending,c.error,c.success,c.data]}},853:function(n,t,e){e.d(t,{Ir:function(){return l},KP:function(){return h},Lf:function(){return a},h_:function(){return m},jR:function(){return f}});var r=e(683),s=e(861),c=e(757),o=e.n(c),u="https://quotes-335ea-default-rtdb.firebaseio.com";function a(){return i.apply(this,arguments)}function i(){return(i=(0,s.Z)(o().mark((function n(){var t,e,s,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(u,"/quotes.json"));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Cannot get quotes!");case 5:return n.next=7,t.json();case 7:for(c in e=n.sent,s=[],e)s.push((0,r.Z)((0,r.Z)({},e[c]),{},{id:c}));return n.abrupt("return",s);case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(o().mark((function n(t){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(u,"/quotes/").concat(t,".json"));case 2:if((e=n.sent).ok){n.next=5;break}throw new Error("Cannot get quote!");case 5:return n.next=7,e.json();case 7:return r=n.sent,n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return d.apply(this,arguments)}function d(){return(d=(0,s.Z)(o().mark((function n(t){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(u,"/quotes.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:if((e=n.sent).ok){n.next=5;break}throw new Error("Cannot add quote!");case 5:return n.next=7,e.json();case 7:return r=n.sent,n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)(o().mark((function n(t){var e,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(u,"/comments/").concat(t.quoteId,".json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 2:if((e=n.sent).ok){n.next=5;break}throw new Error("Cannot add comment!");case 5:return n.next=7,e.json();case 7:return r=n.sent,n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(o().mark((function n(t){var e,s,c,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(u,"/comments/").concat(t,".json"));case 2:if((e=n.sent).ok){n.next=5;break}throw new Error("Cannot load comments!");case 5:return n.next=7,e.json();case 7:for(a in s=n.sent,c=[],s)c.push((0,r.Z)((0,r.Z)({},s[a]),{},{id:a}));return n.abrupt("return",c);case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},808:function(n,t,e){e.r(t),e.d(t,{default:function(){return v}});var r=e(861),s=e(152),c=e(757),o=e.n(c),u=e(791),a="NoQuotesFound_noquotes__sZB4D",i=e(523),f=e(184),p=function(){return(0,f.jsxs)("div",{className:a,children:[(0,f.jsx)("p",{children:"No quotes found!"}),(0,f.jsx)(i.rU,{className:"btn",to:"/new-quote",children:"Add a Quote"})]})},h=e(931),d="QuoteItem_item__UhBy0",l=function(n){return(0,f.jsxs)("li",{className:d,children:[(0,f.jsxs)("figure",{children:[(0,f.jsx)("blockquote",{children:(0,f.jsx)("p",{children:n.text})}),(0,f.jsx)("figcaption",{children:n.author})]}),(0,f.jsx)(i.rU,{to:"/quotes/".concat(n.id),className:"btn",children:"View Fullscreen"})]})},x="QuoteList_list__Fxtp8",m="QuoteList_sorting__lB+-7",j=function(n){var t=(0,h.TH)(),e=(0,h.k6)(),r=new URLSearchParams(t.search),s="asc"===r.get("sort");return console.log(typeof r),n.quotes.sort((function(n,t){return s?n.publishedOn<t.publishedOn?1:-1:n.publishedOn>t.publishedOn?1:-1})),(0,f.jsxs)(u.Fragment,{children:[(0,f.jsx)("div",{className:m,children:(0,f.jsxs)("button",{onClick:function(){e.push({pathname:t.pathname,search:"?sort=".concat(s?"desc":"asc")})},children:["Sort ",s?"Ascending":"Descending"]})}),(0,f.jsx)("ul",{className:x,children:n.quotes.map((function(n){return(0,f.jsx)(l,{id:n.id,author:n.author,text:n.text},n.id)}))})]})},w=e(556),b=e(995),k=e(853);var v=function(){var n=(0,b.Z)(k.Lf),t=(0,s.Z)(n,5),e=t[0],c=t[1],a=t[2],i=t[3],h=t[4];return(0,u.useEffect)((function(){function n(){return(n=(0,r.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e();case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,f.jsxs)(u.Fragment,{children:[(0,f.jsx)("h1",{children:"Quote list"}),c&&(0,f.jsx)(w.Z,{}),a&&(0,f.jsx)("h3",{className:"error",children:"Failed to load quotes!"}),i?h.length<=0?(0,f.jsx)(p,{}):(0,f.jsx)(j,{quotes:h}):""]})}}}]);
//# sourceMappingURL=808.ff647a77.chunk.js.map